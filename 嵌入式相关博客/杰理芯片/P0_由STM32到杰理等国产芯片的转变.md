# P0_由STM32到杰理等国产芯片的转变

## 两个芯片之间的区别

杰理芯片专注于**射频智能终端**和**多媒体智能终端**等系统级芯片（SoC）：

- AI智能音箱
- 蓝牙音箱
- 蓝牙耳机
- 智能语音玩具等物联网智能终端产品

**STM32系列是基于ARM Cortex-M内核**的32位微控制器，广泛应用于各种嵌入式系统，包括：

- 工业控制
- 消费电子
- 医疗设备等

### SOC芯片与MCU芯片的差异

杰理芯片如JL7012作为SOC（System on Chip）芯片，其性能确实比MCU（Microcontroller Unit）芯片高很多，而像RK3399这样的SOC芯片性能则更加强大。

**集成度**

- **SOC芯片**：将处理器、内存、存储以及其他外设（如通信模块、图形处理单元等）集成在一个芯片上，实现了高度的系统集成。例如，JL7012集成了音频处理和无线连接功能，而RK3399甚至支持多核处理器和4K视频解码。
- **MCU芯片**：通常只包含处理器和一些基本外设（如GPIO、定时器、UART等），集成度较低，功能较为单一。

**处理能力**

- **SOC芯片**：具备更强大的处理能力，能够应对复杂的任务和应用。例如，JL7012适合音频处理和物联网应用，而RK3399的六核架构（双核Cortex-A72 + 四核Cortex-A53）可以处理人工智能、多媒体等高性能需求。
- **MCU芯片**：处理能力相对有限，主要用于简单的控制任务，如开关控制或传感器数据采集。

**功能丰富度**

- **SOC芯片**：支持更丰富的功能，比如多种通信协议（Wi-Fi、蓝牙等）、图形处理、音频处理等。JL7012专注于音频和连接功能，而RK3399支持双屏显示和高级图形处理。
- **MCU芯片**：功能较为简单，主要提供基本的输入输出控制和数据处理能力。

**应用场景**

- **SOC芯片**：适用于复杂的应用场景，如智能手机、平板电脑、嵌入式系统、智能音箱等。JL7012可用于智能音频设备，而RK3399适合高端嵌入式设备。
- **MCU芯片**：适用于简单的应用场景，如家电（洗衣机、微波炉）、工业控制、传感器节点等。

**功耗**

- **SOC芯片**：由于集成了更多功能和外设，功耗通常较高。例如，RK3399在运行高性能任务时功耗会显著增加。
- **MCU芯片**：功耗较低，非常适合电池供电的低功耗设备。

**成本**

- **SOC芯片**：制造成本较高，但因其集成度高，可能降低整体系统成本。例如，JL7012和RK3399虽然单芯片成本高，但减少了外部元件的需要。
- **MCU芯片**：制造成本较低，适合成本敏感的简单应用。

**开发难度**

- **SOC芯片**：开发难度较高，需要更专业的知识和技能，例如操作系统移植、驱动开发等。RK3399的开发尤其复杂，常需Linux或Android支持。
- **MCU芯片**：开发难度较低，通常使用简单的编程语言（如C语言）和开发工具即可完成。

### 解答两者的引脚数量差异

**应用场景的不同**

- **MCU（微控制器单元）**
   MCU主要用于简单的**控制**任务，例如家电控制（如洗衣机、微波炉）、传感器数据采集、工业设备控制等。**这些应用需要连接大量的外部设备**，比如开关、LED、传感器、电机等。因此，**MCU通常需要提供更多的引脚来实现这些连接和控制功能。**
- **SOC（系统级芯片）**
   SOC则用于更复杂的**应用场景**，比如智能手机、平板电脑、智能音箱、车载系统等。**这些设备需要处理高级任务，例如图形渲染、音频播放、网络通信等**。**SOC的设计目标是提供完整的系统解决方案，而不是仅仅完成简单的控制。**

**集成度的差异**

- **MCU**
   MCU的集成度较低，通常只包含一个处理器核心和一些基本外设（如定时器、UART、SPI、I2C等）。由于很多功能需要通过外部设备来实现，MCU必须提供大量的引脚（尤其是GPIO，通用输入输出引脚）来连接这些外部元件。
- **SOC**
   SOC的集成度非常高，除了处理器外，还集成了内存、存储、高级外设（如GPU图形处理单元、音频编解码器、Wi-Fi/蓝牙模块等）。**这些功能模块通过芯片内部的总线连接，大大减少了对外部引脚的需求。**

**片上外设的类型**

- **MCU**
   MCU的片上外设相对简单，主要是基本的输入输出接口和通信接口（例如GPIO、SPI、I2C、UART等）。这些外设需要通过引脚与外部设备通信，因此引脚数量较多。
- **SOC**
   SOC的片上外设更加复杂和高级，例如图形处理单元（GPU）、视频编解码器、音频处理模块、通信协议栈等。**这些外设的功能大多在芯片内部完成，只需要少量的专用引脚与外部接口（比如显示屏、扬声器、摄像头）连接。**

**引脚分配的侧重点**

- **MCU**
   MCU的引脚分配中，**GPIO占了很大比例。这些通用引脚可以灵活配置为输入或输出，用于连接各种外部设备，以满足多样化的控制需求。**
- **SOC**
   SOC的引脚分配**更倾向于高级外设的专用接口**，例如HDMI或MIPI（显示接口）、I2S（音频接口）、USB或Ethernet（通信接口）。这些接口虽然引脚数量少，但能支持复杂的功能。

**总结**

- **MCU**：引脚数量多，主要是GPIO，用于连接外部设备，实现简单的控制任务。它的设计注重灵活性和通用性，方便用户根据具体需求定制功能。
- **SOC**：引脚数量少，主要是高级外设的专用接口，用于实现复杂的系统功能。它的设计追求高度集成，减少对外部元件的依赖，从而降低系统成本和复杂度。

**为什么会出现这种差异？**

这种引脚数量的差异本质上反映了SOC和MCU在设计理念上的不同：

- **MCU**更像是一个“万能工具”，通过提供大量引脚和基本功能，让用户可以自由扩展和实现各种控制任务。
- **SOC**则是一个“集成方案”，通过内置复杂功能，提供一站式的解决方案，适合特定的高级应用。

### SOC与MCU

通过“MCU”和“SOC”这两个名称，我们确实可以大致判断它们的含义和功能差异：一个是**微型控制器**（Microcontroller Unit, MCU），另一个是**系统级控制器**（System on Chip, SOC）。

**MCU（微控制器单元）**
 “MCU”的名称中突出“控制器”（Controller），它是一种集成处理器、少量存储器（如 RAM 和闪存）以及基本输入/输出外设的单芯片计算机。它的设计目标是实现低功耗、实时响应的控制任务，特别适合嵌入式系统中与硬件直接交互的场景。

**SOC（系统级芯片）**
 “SOC”的名称中强调“系统”（System），它将**一个完整的系统功能集成到单个芯片上**，包括高性能处理器、大容量存储器以及丰富的专用外设（如图形处理单元 GPU、通信模块等）。SOC 旨在提供一站式的解决方案，适合需要高处理能力和多功能集成的复杂应用。

SOC 可以实现更复杂的功能，并且能够引入操作系统；而 MCU 虽然也可以引入轻量级 RTOS，但其能力和应用范围仍然受限于硬件资源。选择哪种芯片取决于具体需求——简单控制选 MCU，复杂系统选 SOC。

## 开发流程的转变

从MCU（如STM32）到国产SOC芯片（如JL7012）的开发流程转变确实会带来一些差异。STM32作为一款广泛使用的微控制器（MCU），拥有成熟的开发工具和生态系统，例如CUBEMX用于初始化外设、丰富的库函数用于驱动片上外设和实现软件功能，以及KEIL、IAR和STM32CubeIDE等多种IDE开发环境。这些工具极大地简化了开发流程，使开发者能够快速上手并高效开发。而对于国产SOC芯片如JL7012，由于其定位和市场策略的不同，开发流程和工具链可能有所差异。

**芯片类型与复杂性**

- **STM32（MCU）**：STM32是一款典型的微控制器，通常用于嵌入式系统，运行裸机代码或实时操作系统（RTOS），集成度相对较低，主要聚焦于外设控制和实时处理。
- **JL7012（SOC）**：SOC（System on Chip，系统级芯片）通常集成了处理器、内存和外设于单一芯片，相较于MCU功能更强大且复杂，可能支持更高级的软件栈，甚至运行操作系统（如Linux）。JL7012作为国产SOC芯片，可能针对特定应用（如音频处理或物联网设备）设计，其开发复杂度可能高于STM32。

**开发工具与生态**

- **STM32**：得益于ST公司的支持，STM32拥有CUBEMX这样的图形化配置工具，可以快速初始化外设并生成代码，同时提供HAL（硬件抽象层）库函数，支持多种主流IDE。
- **JL7012**：作为国产芯片，其开发工具和生态可能由制造商（如杰理科技）独立提供，工具链和文档的成熟度可能不如STM32，且资源可能以中文为主。
  - 比如工具链，SDK开发包等等

## 如何快速熟悉JL芯片的开发流程

**看视频**

- 教学视频
- 项目视频
  - 具体芯片不重要，JL发布了很多款芯片，必然有一套开发工具。
  - 跟着视频过一遍，就知道了。