# 51单片机

## 基本介绍

基本概念:

- 51单片机是Intel公司1980年推出的MCS-51系列单片机
- 型号主要有AT89C51/52等,现在主要由STC等公司生产
- 是入门单片机学习的经典选择,资料丰富

主要特点:

- CPU: 8位处理器,工作频率一般12MHz
- 内存: 程序存储ROM 4K-64K,数据RAM 128-256字节
  - RAM:512 字节
  - ROM：8K （flash，U盘也用这个）
- 定时器/计数器: 2-3个16位定时器
- I/O接口: 4组8位并行IO口(P0-P3)
- 中断: 5个中断源,2个优先级
- 串行通信接口: 全双工UART

常见应用场景:

- 智能家电控制
- 简单的数据采集
- LED显示控制
- 电机控制
- 传感器数据处理

编程开发:

- ```c
  // 简单LED闪烁程序示例
  #include <reg51.h>
  
  void delay(unsigned int t) {
      while(t--);
  }
  
  void main() {
      while(1) {
          P1 = 0x00;    // LED亮
          delay(50000);
          P1 = 0xFF;    // LED灭
          delay(50000);
      }
  }
  ```

开发工具:

- 编程语言: C语言或汇编语言
- 开发环境: Keil C51
- 仿真软件: Proteus
- 烧录器: STC-ISP

优点:

- 结构简单,易于入门
- 价格便宜,成本低
- 资料丰富,社区活跃
- 可靠性高

缺点:

- 性能相对较低
- 外设功能较少
- 内存空间小

学习建议:

1. 先掌握C语言基础
2. 了解数字电路基础知识
3. 购买开发板进行实践
4. 从简单项目开始(如LED控制)
5. 逐步学习各种外设使用
6. 尝试更复杂的项目开发

虽然51单片机性能不及新型MCU,但它结构简单,非常适合入门学习单片机开发。

### RAM和ROM

**RAM (Random Access Memory):**

- 是的,RAM相当于内存,但与计算机内存有区别
- 51单片机的RAM分为:
  - 片内RAM: 128字节
    - 直接寻址区(30H-7FH): 80个字节
    - 位寻址区(20H-2FH): 16个字节
    - 寄存器组(R0-R7): 8个字节
    - 特殊功能寄存器(SFR)
  - 片外RAM(扩展): 最大可达64K
- 特点:
  - 断电数据丢失
  - 读写速度快
  - 用于存储程序运行时的临时数据
  - 相当于计算机中的"内存",但容量小得多

**ROM (Read Only Memory):**

- 不完全等同于计算机的硬盘
- 51单片机的ROM分为:
  - 程序存储器: 存放程序代码
  - 数据存储器: 存放固定的数据表
- 特点:
  - 断电数据不丢失
  - 主要用于存储程序代码
  - Flash型可以重复擦写
  - 容量远小于计算机硬盘

**对比计算机存储器:**

8x1024B（字节） = 8x1024x8二进制位（比特bit）

```
单片机                    计算机
RAM (512字节)            内存RAM (8GB+)
ROM (8KB Flash)          硬盘 (256GB+)
```

**为什么容量这么小?**

- 单片机主要用于专用控制场景
- 程序代码一般很小
- 运行时数据需求少
- 成本和功耗考虑
- 实时性要求高

**这种存储架构特别适合单片机的应用场景:**

- 固定的控制程序(ROM)
- 少量的运行时数据(RAM)
- 快速的数据处理
- 可靠的程序存储

### 命名规则

![image-20241104102053958](C:\Users\admin\Desktop\个人博客\嵌入式相关博客\51单片机学习\51单片机.assets\image-20241104102053958.png)

![image-20241104102029693](C:\Users\admin\Desktop\个人博客\嵌入式相关博客\51单片机学习\51单片机.assets\image-20241104102029693.png)

STC89C52系列单片机的命名规则:

STC89C52 的命名可以分成几个部分来理解：

1. STC - 表示生产厂商是宏晶科技(STC Micro)
2. 89 - 表示是兼容Intel 8051架构的80C51系列单片机
3. C - 表示采用CMOS工艺制造
4. 52 - 表示具体型号,区分不同的存储容量:

- 52 表示内部Flash为8K字节
- **51 表示内部Flash为4K字节**

后面还可能带有一些字母后缀,表示不同的特性:

- RC: 内置RC振荡器
- RD+: 增强型,具有ISP下载功能
- AD: 带AD转换功能
- L: 低电压版本
- DIP40/PDIP40: 表示封装类型为40脚DIP
- LQFP32: 表示32脚LQFP封装
  - 封装形式（芯片对外的形式形状，配置相同的情况）
  - 长条矩形
  - 正方式

举例:

- STC89C52RC: 带RC振荡器的基本型号
- STC89C52RC-40I-PDIP40: 40脚DIP封装,工业级
- STC89C52RD+: 带ISP下载功能的增强型

### 内部结构

![image-20241104103921381](C:\Users\admin\Desktop\个人博客\嵌入式相关博客\51单片机学习\51单片机.assets\image-20241104103921381.png)

![image-20241104103950340](C:\Users\admin\Desktop\个人博客\嵌入式相关博客\51单片机学习\51单片机.assets\image-20241104103950340.png)

### 管脚图

![image-20241104104017785](C:\Users\admin\Desktop\个人博客\嵌入式相关博客\51单片机学习\51单片机.assets\image-20241104104017785.png)

### 开发板原理图(普中)

![image-20241104105425143](C:\Users\admin\Desktop\个人博客\嵌入式相关博客\51单片机学习\51单片机.assets\image-20241104105425143.png)

### 开发板结构图（普中）

![image-20241104105753909](C:\Users\admin\Desktop\个人博客\嵌入式相关博客\51单片机学习\51单片机.assets\image-20241104105753909.png)

### 各外设介绍

![image-20241104110141467](C:\Users\admin\Desktop\个人博客\嵌入式相关博客\51单片机学习\51单片机.assets\image-20241104110141467.png)

![image-20241104110159705](C:\Users\admin\Desktop\个人博客\嵌入式相关博客\51单片机学习\51单片机.assets\image-20241104110159705.png)

pJ1是电位器，是调节液晶屏的对比度（清晰度）

## 外设：LED

**在microchip中的89C52找到对应的芯片支持包**

用途：照明、广告灯、指引灯、屏幕

![image-20241105165517257](C:\Users\admin\Desktop\个人博客\嵌入式相关博客\51单片机学习\51单片机.assets\image-20241105165517257.png)

**怎么发光的？有原理科普吗？**

LED（发光二极管）是一种通过电流发光的半导体器件。它的发光原理基于半导体中的*电子*和*空穴*的复合，当两者结合时释放出能量，以光子的形式发出。

**LED的内部结构**

LED的内部结构主要由以下几个部分组成：

1. **半导体材料**：LED的核心是一个半导体晶片，通常由砷化镓（GaAs）、氮化镓（GaN）等材料制成。不同材料会发出不同颜色的光。
2. **P-N结**：半导体内部形成了一个P-N结，即一边是P型半导体（富含空穴），另一边是N型半导体（富含电子）。
3. **电极**：LED上有正负两个电极，用于接入电源并引导电流通过P-N结。

**发光原理**

当给LED施加正向电压时，电流会从P型半导体流向N型半导体。电流通过时，P区的空穴和N区的电子在P-N结处复合，并释放出能量。由于半导体材料的特性，这些能量会以光子的形式释放出来，这就是LED发光的过程。

**总结**

只要给LED提供合适的电压和电流，它就会发光。

### 点亮一个LED

### LED闪烁