# 前置知识

## Keil5版本

**keil5有几个版本？各自可以编译什么类型的单片机？**

Keil µVision5（即Keil5）有多个版本，各版本的主要区别在于支持不同的微控制器架构和芯片厂商。以下是常见的几个版本及其支持的微控制器类型：

1. **Keil MDK-Lite** (Evaluation)
   - **用途**：免费试用版，功能有限
   - **限制**：代码大小限制32KB
   - **支持架构**：ARM Cortex-M 系列
2. **Keil MDK-Essential**
   - **用途**：适用于大多数嵌入式应用
   - **支持架构**：ARM Cortex-M 系列（STM32、NXP LPC、Silicon Labs 等）
   - **特性**：包括基本调试功能，适合一般项目需求
3. **Keil MDK-Plus**
   - **用途**：适用于更复杂的应用
   - **支持架构**：ARM Cortex-M 系列
   - **特性**：增加了代码覆盖率、性能分析等高级调试功能
4. **Keil MDK-Professional**
   - **用途**：适用于高端嵌入式开发
   - **支持架构**：ARM Cortex-M 系列
   - **特性**：包含完整的开发、调试和测试工具包，如微控制器软件包（CMSIS-RTOS、Network、USB、File System 等）
5. **Keil C51**
   - **用途**：支持经典的8051系列单片机开发
   - **支持架构**：8051/8052 等经典8位单片机
   - **特性**：专门用于8位MCU项目
6. **Keil C166**
   - **用途**：适用于Infineon C16x和ST10系列16位单片机开发
   - **支持架构**：Infineon C166、STMicroelectronics ST10等16位MCU

不同版本支持的微控制器类型主要集中在ARM Cortex-M系列，以及部分经典的8位和16位单片机。选择版本时应根据目标架构、项目复杂性和预算来决定。

## STC-ISP

STC-ISP 软件是由**STC（宏晶科技）\**公司提供的烧录软件，用于\**对 STC 系列单片机进行串口编程**。STC 系列单片机（如 STC89、STC12、STC15 等）支持通过串口（UART）直接将程序烧录到单片机的 Flash 中，无需额外的编程器。

### STC-ISP 的主要功能

1. **程序烧录**：通过串口将编译生成的 HEX 文件写入单片机的 Flash 存储。
2. **串口设置**：可选择串口端口号、波特率等参数，确保通信稳定。
3. **支持多种 STC 单片机型号**：包括 STC89 系列、STC12 系列、STC15 系列、STC8 系列等多种型号。
4. **芯片信息读取**：可读取单片机的基本信息，如芯片型号、存储器大小、版本号等。
5. **复位控制**：在烧录完成后可以通过软件对单片机进行复位。
6. **烧录参数设置**：可以调整一些烧录的高级参数，如写入保护、加密选项等。

### 使用场景

STC-ISP 通常用于**对 STC 单片机进行程序调试、开发和批量生产烧录**，特别适合通过串口进行快速下载和调试。

## keil5的安装包和支持包区别

Keil5 的**安装包**和**支持包**在功能和角色上确实有一些不同。简单来说，Keil5 的安装包是整个开发环境的基础，而支持包则是为具体的芯片架构或厂商提供编译和调试支持的扩展组件。

### Keil5 安装包和支持包的区别

1. **Keil5 安装包**
   - 包含 Keil µVision IDE、编译器、基本的工具链等，属于开发环境的核心组件。
   - 安装完成后提供通用的功能，**但不一定包含所有芯片的支持。**
   - 安装包主要提供的是 IDE 和基础编译器，用于**构建、编辑和调试代码。**
2. **支持包（Device Family Pack, DFP）**
   - 支持包是 Keil5 针对不同芯片家族（如 STM32、NXP LPC 等）提供的**插件包**。
   - 每个支持包包含芯片特定的启动文件、寄存器定义、库文件、示例代码、调试器配置等。
   - 支持包的安装使 Keil5 能够识别、编译、烧录和调试某特定芯片或家族的代码。
   - 比如 STC89、STM32 等芯片对应的 DFP 可以让 Keil5 兼容这些特定型号的单片机。

### Keil5 在开发中的角色

Keil5 在嵌入式开发中类似于 51 单片机的编译环境，或者更准确地说，相当于 C 语言开发中的 **GCC 编译工具链**。它的主要作用包括：

1. **集成开发环境（IDE）**：提供了编写、调试、编译代码的完整工具链，适合嵌入式开发。
2. **编译器**：Keil5 通过 ARM 编译器（如 ARMCC 或最新版本中的 ARMCLANG）将 C 代码编译为机器代码，以适配目标芯片的架构。
3. **调试工具**：Keil5 支持通过 JTAG、SWD 等方式调试代码，类似于在 GCC 工具链中使用 GDB 进行调试。
4. **支持包扩展**：支持包让 Keil5 更灵活，可以适配更多厂商的芯片。这点类似于 GCC 中为不同架构（如 x86、ARM）安装相应的交叉编译工具链。

### 总结

- **Keil5 安装包**提供的是一个通用开发环境（IDE），其中包含编译器和基本的开发工具。
- **支持包**则是对具体芯片的扩展支持，使得 Keil5 能够支持更多单片机和微控制器。
- 在角色上，Keil5 相当于 C 语言的 GCC 工具链和开发环境，只不过它专注于 ARM Cortex 和其他 MCU 的嵌入式开发。

## Keil C51支持包

**Keil C51** 自带了支持 **8051 系列单片机**的支持包。Keil C51 是专门为 8051 架构设计的开发环境，因此安装完成后即包含了对大部分 8051 系列单片机的支持，无需额外安装支持包。

### Keil C51 的自带支持

1. **内置 8051 编译器**：Keil C51 包含一个专门用于 8051 架构的 C 编译器和汇编工具，可以直接将代码编译为 8051 单片机可执行的二进制文件。
2. **标准库支持**：Keil C51 自带了许多 8051 的标准库函数，包括常用的输入/输出、定时器、串口等驱动库。
3. **设备特定头文件**：提供了 8051 系列常见型号的寄存器定义和头文件，可以直接在代码中使用这些寄存器名称和位操作。
4. **仿真和调试工具**：内置 8051 的仿真器和调试功能，可以用来测试和调试代码，适合各种 8051 单片机的开发。

### 需要额外安装支持包的情况

Keil C51 通常不需要额外的支持包，除非你使用的 8051 芯片是较为特殊的型号或者包含了厂商定制的外设（如 STC 的增强型 8051），这时可能需要从芯片厂商下载相应的头文件或库文件以支持特定的外设功能。

总结来说，Keil C51 本身就是一个完整的 8051 开发环境，自带了 8051 的基础支持，绝大部分 8051 开发都可以直接使用 Keil C51 完成。

## Keil5破解

Keil5 确实是一个收费软件，尤其在专业版（MDK-Professional）和其他高级版本中具有较高的费用，主要是由于以下原因：

### Keil5 收费的原因

1. **强大的开发工具链**：Keil5 提供了功能全面的集成开发环境（IDE）、编译器、调试器和各种插件支持，包括 ARM Cortex-M 系列微控制器的高效编译工具、实时操作系统支持（如 RTX RTOS）等。这些工具被广泛应用于商业项目，具有很高的价值。
2. **高级调试功能**：高版本的 Keil5 提供高级调试和分析功能，如代码覆盖率分析、性能分析、执行跟踪等，这些功能对嵌入式开发者尤其是工业应用开发者非常重要。
3. **设备支持包**：Keil5 提供丰富的设备支持包（DFP），包含各个芯片型号的寄存器定义、外设驱动库等，使得开发者可以轻松配置和操作不同的微控制器。这些支持包为开发提供了极大的便利，也增加了软件的价值。
4. **技术支持和更新**：购买正版的 Keil5 可以享受 ARM 官方的技术支持服务，包括升级更新、问题解决、技术文档支持等，对于企业用户尤其重要。

### 为什么会有破解版本

破解版本的流出通常是因为以下原因：

1. **收费版本价格较高**：高版本的 Keil5（尤其是 MDK-Professional）价格相对较高，许多个人用户或小型开发团队可能难以承担其费用，因此一些人试图通过破解的方式来获得完整的功能。
2. **个人学习需求**：对于学生和个人开发者，Keil5 的功能强大，但可能仅仅是为了学习和小型项目而使用，这种情况下高价的商业版本不容易负担，因此部分人会选择使用破解版本。
3. **容易传播**：由于 Keil5 的破解版本在网络上较容易找到，有些人可能会未经许可地使用这些破解资源，造成了破解版本的流通。

