# browser-useçš„ä»‹ç»

## browser-useå¼€æºé¡¹ç›®çš„å®ç°åŸç†

**è¿™ä¸ªå¼€æºé¡¹ç›®çš„å®ç°åŸç†ï¼Ÿè®©AIå¤§æ¨¡å‹èƒ½å¤Ÿè®¿é—®æœ¬åœ°èµ„æºï¼Ÿæ˜¯åŸºäºMCPä¸Šä¸‹æ–‡åè®®å—ï¼Ÿ**

â€œbrowser-useâ€ (https://github.com/browser-use/browser-use) æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæ—¨åœ¨ä½¿ AI å¤§æ¨¡å‹èƒ½å¤Ÿåƒäººç±»ä¸€æ ·â€œä½¿ç”¨â€æµè§ˆå™¨ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–æµè§ˆå™¨æ“ä½œä¸ç½‘é¡µå†…å®¹äº¤äº’ã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯**è®©ç½‘ç«™å¯¹ AI ä»£ç†å˜å¾—å¯è®¿é—®ï¼Œä½¿ AI èƒ½å¤Ÿæ‰§è¡Œè¯¸å¦‚å¯¼èˆªé¡µé¢ã€ç‚¹å‡»æŒ‰é’®ã€å¡«å†™è¡¨å•å’Œæå–ä¿¡æ¯ç­‰ä»»åŠ¡ã€‚**

#### å®ç°åŸç†

è¯¥é¡¹ç›®çš„å®ç°åŸºäº **Playwright**ï¼Œä¸€ä¸ªæµè¡Œçš„æµè§ˆå™¨è‡ªåŠ¨åŒ–åº“ã€‚Playwright æ”¯æŒæ§åˆ¶ Chromiumã€Firefox å’Œ WebKit ç­‰æµè§ˆå™¨ï¼Œ**å…è®¸ç¨‹åºåŒ–åœ°æ‰§è¡Œæ‰“å¼€é¡µé¢ã€ä¸ç½‘é¡µå…ƒç´ äº¤äº’ï¼ˆä¾‹å¦‚ç‚¹å‡»ã€è¾“å…¥æ–‡æœ¬ï¼‰å’Œä»ç½‘é¡µä¸­æå–æ•°æ®ç­‰æ“ä½œ**ã€‚åœ¨ â€œbrowser-useâ€ ä¸­ï¼Œ**è¿™ç§è‡ªåŠ¨åŒ–åŠŸèƒ½è¢«å°è£…ä¸ºä¸€ä¸ªæ¥å£ï¼Œä½¿ AI æ¨¡å‹èƒ½å¤Ÿæ ¹æ®ä»»åŠ¡ç†è§£å‘å‡ºå‘½ä»¤æ¥æ§åˆ¶æµè§ˆå™¨ã€‚**

ä¾‹å¦‚ï¼Œä¸€ä¸ª AI æ¨¡å‹å¯èƒ½æ”¶åˆ°æŒ‡ä»¤ï¼šâ€œè®¿é—®æŸä¸ªç½‘ç«™ï¼Œæœç´¢äº§å“å¹¶è·å–å…¶ä»·æ ¼ã€‚â€ AI ä¼šå°†æ­¤æŒ‡ä»¤è§£æä¸ºä¸€ç³»åˆ—æµè§ˆå™¨æ“ä½œï¼Œä¾‹å¦‚å¯¼èˆªåˆ°ç›®æ ‡ç½‘ç«™ã€åœ¨æœç´¢æ ä¸­è¾“å…¥æ–‡æœ¬ã€ç‚¹å‡»æœç´¢æŒ‰é’®ï¼Œç„¶åä»ç»“æœé¡µé¢ä¸­æå–ä»·æ ¼ä¿¡æ¯ã€‚è¿™ç§æ–¹å¼è®© AI èƒ½å¤Ÿä»¥ç¨‹åºåŒ–çš„æ–¹å¼å®ŒæˆåŸæœ¬éœ€è¦äººç±»æ‰‹åŠ¨æ“ä½œçš„ä»»åŠ¡ã€‚

æ ¹æ®ç›¸å…³ä¿¡æ¯ï¼Œå­˜åœ¨ä¸€ä¸ªåä¸º â€œbrowser-use-mcp-serverâ€ çš„å…³è”ä»“åº“ï¼Œè¿™è¡¨æ˜ â€œbrowser-useâ€ é¡¹ç›®å¯èƒ½ä½¿ç”¨æˆ–é›†æˆäº†ä¸€ä¸ª **MCP æœåŠ¡å™¨æ¥ç®¡ç† AI æ¨¡å‹çš„ä¸Šä¸‹æ–‡**ã€‚MCP åè®®å¯èƒ½ç”¨äºåœ¨å¤šä¸ªè¯·æ±‚æˆ–ä¼šè¯ä¸­ç»´æŠ¤ AI çš„äº¤äº’çŠ¶æ€ï¼Œæ”¯æŒæ›´å¤æ‚çš„å¤šæ­¥éª¤ä»»åŠ¡ã€‚

ä¾‹å¦‚ï¼ŒMCP æœåŠ¡å™¨å¯èƒ½è´Ÿè´£ä¼šè¯ç®¡ç†ï¼Œè®°å½•æµè§ˆå™¨çš„çŠ¶æ€ï¼ˆä¾‹å¦‚ç™»å½•çŠ¶æ€ã€å½“å‰é¡µé¢ï¼‰ï¼Œä½¿ AI èƒ½å¤Ÿæ‰§è¡Œéœ€è¦æŒä¹…æ€§çš„ä»»åŠ¡ï¼Œå¦‚å¡«å†™å¤šé¡µè¡¨å•æˆ–å®Œæˆå¤æ‚çš„å·¥ä½œæµã€‚å› æ­¤ï¼Œè™½ç„¶ â€œbrowser-useâ€ çš„æ ¸å¿ƒå®ç°ä¾èµ– Playwrightï¼Œä½†å®ƒå¯èƒ½é€šè¿‡ MCP åè®®å¢å¼ºäº†ä¸Šä¸‹æ–‡ç®¡ç†å’ŒçŠ¶æ€ä¿æŒèƒ½åŠ›ã€‚

- **è¿™æ„å‘³ç€å¯ä»¥è¢«æ”¯æŒMCPå®¢æˆ·ç«¯çš„AIå¤§æ¨¡å‹è°ƒç”¨ã€‚**
- **æ¯”å¦‚claudeçš„æ¡Œé¢åº”ç”¨**ï¼Œè®©ç»“æœè¾“å‡ºæ›´åŠ è‡ªç„¶å’Œç›´è§‚ã€‚

#### å…³é”®ç‰¹æ€§

- **AI æ¨¡å‹é›†æˆ**ï¼šæ”¯æŒå¤šç§ AI æ¨¡å‹ï¼ˆå¦‚ OpenAIã€Anthropicã€DeepSeekï¼‰ï¼Œç”¨äºè§£æä»»åŠ¡å¹¶ç”Ÿæˆæµè§ˆå™¨æ“ä½œæŒ‡ä»¤ã€‚
- **Web UI**ï¼šé€šè¿‡ç‹¬ç«‹çš„ â€œbrowser-use/web-uiâ€ ä»“åº“æä¾›ç”¨æˆ·ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥é…ç½®ä»»åŠ¡ã€ç›‘æ§è¿›åº¦å’ŒæŸ¥çœ‹ç»“æœã€‚
- **è‡ªå®šä¹‰æµè§ˆå™¨æ”¯æŒ**ï¼šå…è®¸ç”¨æˆ·ä½¿ç”¨è‡ªå·±çš„æµè§ˆå™¨å®ä¾‹ï¼Œä¾¿äºåˆ©ç”¨ç°æœ‰è®¤è¯çŠ¶æ€ï¼Œé¿å…é‡å¤ç™»å½•ã€‚
- **æŒä¹…ä¼šè¯**ï¼šæ”¯æŒåœ¨ä»»åŠ¡é—´ä¿æŒæµè§ˆå™¨å¼€å¯ï¼Œä¿ç•™å†å²è®°å½•å’ŒçŠ¶æ€ä»¥å®ç°è¿ç»­äº¤äº’ã€‚
- **å®‰å…¨ä¸æƒé™**ï¼šè€ƒè™‘åˆ°æµè§ˆå™¨è‡ªåŠ¨åŒ–çš„æ½œåœ¨é£é™©ï¼Œé¡¹ç›®å¯èƒ½åŒ…å«æƒé™ç®¡ç†æœºåˆ¶ï¼Œç¡®ä¿å®‰å…¨è¿è¡Œã€‚

## uiç‰ˆæœ¬çš„å®ç°

[é¡¹ç›®åœ°å€](https://github.com/browser-use/web-ui)

### å…ˆå†³æ¡ä»¶

- Python 3.11 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆé¡¹ç›®ä½¿ç”¨pythonå†™ï¼‰
- Gitï¼ˆç”¨äºå…‹éš†å­˜å‚¨åº“ï¼‰

### æ­å»ºé¡¹ç›®ç¯å¢ƒ

#### å®‰è£…UVå·¥å…·

å»ºè®®ä½¿ç”¨[uv](https://docs.astral.sh/uv/)æ¥ç®¡ç† Python ç¯å¢ƒã€‚

æ‰“å¼€powershellæ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š

```c
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

ç»™å‡ºå¦‚ä¸‹æç¤ºå°±ç®—å®‰è£…æˆåŠŸäº†ï¼š

```bash
PS C:\Users\admin> powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"                   Downloading uv 0.6.12 (x86_64-pc-windows-msvc)                                                                          Installing to C:\Users\admin\.local\bin
  uv.exe
  uvx.exe
everything's installed!

To add C:\Users\admin\.local\bin to your PATH, either restart your shell or run:

    set Path=C:\Users\admin\.local\bin;%Path%   (cmd)
    $env:Path = "C:\Users\admin\.local\bin;$env:Path"   (powershell)
PS C:\Users\admin>
```

æ ¹æ®æä¾›çš„å‘½ä»¤è¡Œè¾“å‡ºï¼Œå®‰è£…ç¨‹åºå·²ç»æˆåŠŸå®Œæˆäº†ä»¥ä¸‹æ­¥éª¤ï¼š

- ä¸‹è½½äº† uv 0.6.12 ç‰ˆæœ¬ï¼ˆDownloading uv 0.6.12 (x86_64-pc-windows-msvc)ï¼‰ã€‚
- å°†å…¶å®‰è£…åˆ° C:\Users\admin\.local\bin ç›®å½•ä¸‹ï¼ŒåŒ…å« uv.exe å’Œ uvx.exe æ–‡ä»¶ã€‚
- æ˜¾ç¤º "everything's installed!"ï¼Œè¡¨æ˜å®‰è£…è¿‡ç¨‹å·²é¡ºåˆ©å®Œæˆã€‚

**ä¸‹ä¸€æ­¥ï¼šç¡®ä¿å¯ä»¥ä½¿ç”¨ uv**

è™½ç„¶å®‰è£…å·²ç»æˆåŠŸï¼Œä½†ä½ éœ€è¦å°†å®‰è£…ç›®å½•æ·»åŠ åˆ° PATH ç¯å¢ƒå˜é‡ä¸­ï¼Œæ‰èƒ½åœ¨å‘½ä»¤è¡Œä¸­ç›´æ¥è¿è¡Œ uv å‘½ä»¤ã€‚ä»¥ä¸‹æ˜¯å…·ä½“æ­¥éª¤ï¼š

**æ°¸ä¹…è®¾ç½® PATH(å¥½åƒadminç”¨æˆ·çš„ç¯å¢ƒå˜é‡è¿™ä¸ªæ¡ç›®æœ¬æ¥å°±æœ‰ï¼Œå¦‚æœæœ‰å¯ä»¥çœç•¥)**

- åœ¨ Windows ä¸­ï¼š
  1. æ‰“å¼€â€œç³»ç»Ÿå±æ€§â€çª—å£ï¼ˆæœç´¢â€œç¯å¢ƒå˜é‡â€ï¼‰ã€‚
  2. åœ¨â€œç³»ç»Ÿå˜é‡â€æˆ–â€œç”¨æˆ·å˜é‡â€ä¸­æ‰¾åˆ° Pathï¼Œç‚¹å‡»â€œç¼–è¾‘â€ã€‚
  3. æ·»åŠ æ–°æ¡ç›®ï¼šC:\Users\admin\.local\binã€‚
  4. ä¿å­˜å¹¶å…³é—­çª—å£ã€‚

**éªŒè¯å®‰è£…**

è®¾ç½® PATH åï¼š

1. æ‰“å¼€ä¸€ä¸ªæ–°çš„å‘½ä»¤è¡Œçª—å£ï¼ˆCMD æˆ– PowerShellï¼‰ã€‚

2. è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

3. ```bash
   uv --version
   ```

å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼ˆä¾‹å¦‚ uv 0.6.12ï¼‰ï¼Œåˆ™è¯´æ˜ uv å·²å®Œå…¨å®‰è£…å¹¶å¯ç”¨ã€‚

#### å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°

æœ¬åœ°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å¹¶å³é”®å‘¼å‡ºgit bashæˆ–è€…æ‰“å¼€cmdä½¿ç”¨git cloneå‘½ä»¤

```bash
git clone https://github.com/browser-use/web-ui.git
```

åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•

```bash
cd web-ui
```

#### åˆ›å»ºæ¿€æ´»ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ

```bash
uv venv --python 3.11
```

æç¤ºä¿¡æ¯ï¼š

```bash
$ uv venv --python 3.11
Using CPython 3.11.11
Creating virtual environment at: .venv
Activate with: source .venv/Scripts/activate
```

æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š

- Windowsï¼ˆå‘½ä»¤æç¤ºç¬¦ï¼‰ï¼š

```bash
.venv\Scripts\activate
```

- Windowsï¼ˆPowerShellï¼‰ï¼š

```bash
.\.venv\Scripts\Activate.ps1
```

#### å®‰è£…é¡¹ç›®çš„ä¾èµ–

å®‰è£… Python åŒ…ï¼š

```bash
uv pip install -r requirements.txt
```

åœ¨ Playwright ä¸­å®‰è£…æµè§ˆå™¨ï¼šæ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ç‰¹å®šçš„æµè§ˆå™¨ï¼š

- å› ä¸ºæˆ‘æœ¬åœ°ä½¿ç”¨çš„æ˜¯chromeæµè§ˆå™¨

```bash
playwright install --with-deps chromium
```

- å®‰è£…æ‰€æœ‰æµè§ˆå™¨

  - ```bash
    playwright install
    ```

    

#### é…ç½®ç¯å¢ƒ

1. åˆ›å»ºç¤ºä¾‹ç¯å¢ƒæ–‡ä»¶çš„å‰¯æœ¬ï¼š

   - Windowsï¼ˆå‘½ä»¤æç¤ºç¬¦ï¼‰ï¼š

   - ```bash
     copy .env.example .env
     ```

   - macOS/Linux/Windows (PowerShell)ï¼š

   - ```bash
     cp .env.example .env
     ```

2. åœ¨æ‚¨å–œæ¬¢çš„æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ‰“å¼€`.env`å¹¶æ·»åŠ æ‚¨çš„ API å¯†é’¥å’Œå…¶ä»–è®¾ç½®

   1. æˆ‘è¿™é‡Œä½¿ç”¨vdcode

   2. ```
      # OpenAI API çš„ç»ˆç«¯åœ°å€
      OPENAI_ENDPOINT=https://api.openai.com/v1
      # OpenAI API çš„å¯†é’¥
      OPENAI_API_KEY=
      
      # Anthropic API çš„å¯†é’¥
      ANTHROPIC_API_KEY=
      # Anthropic API çš„ç»ˆç«¯åœ°å€
      ANTHROPIC_ENDPOINT=https://api.anthropic.com
      
      # Google API çš„å¯†é’¥
      GOOGLE_API_KEY=
      
      # Azure OpenAI API çš„ç»ˆç«¯åœ°å€
      AZURE_OPENAI_ENDPOINT=
      # Azure OpenAI API çš„å¯†é’¥
      AZURE_OPENAI_API_KEY=
      # Azure OpenAI API çš„ç‰ˆæœ¬
      AZURE_OPENAI_API_VERSION=2025-01-01-preview
      
      # DeepSeek API çš„ç»ˆç«¯åœ°å€
      DEEPSEEK_ENDPOINT=https://api.deepseek.com
      # DeepSeek API çš„å¯†é’¥
      DEEPSEEK_API_KEY=
      
      # Mistral API çš„å¯†é’¥
      MISTRAL_API_KEY=
      # Mistral API çš„ç»ˆç«¯åœ°å€
      MISTRAL_ENDPOINT=https://api.mistral.ai/v1
      
      # Ollama API çš„ç»ˆç«¯åœ°å€ (é€šå¸¸ç”¨äºæœ¬åœ°éƒ¨ç½²)
      OLLAMA_ENDPOINT=http://localhost:11434
      
      # é˜¿é‡Œäº‘ DashScope API çš„ç»ˆç«¯åœ°å€ (å…¼å®¹æ¨¡å¼)
      ALIBABA_ENDPOINT=https://dashscope.aliyuncs.com/compatible-mode/v1
      # é˜¿é‡Œäº‘ DashScope API çš„å¯†é’¥
      ALIBABA_API_KEY=
      
      # Moonshot API çš„ç»ˆç«¯åœ°å€
      MOONSHOT_ENDPOINT=https://api.moonshot.cn/v1
      # Moonshot API çš„å¯†é’¥
      MOONSHOT_API_KEY=
      
      # Unbound API çš„ç»ˆç«¯åœ°å€
      UNBOUND_ENDPOINT=https://api.getunbound.ai
      # Unbound API çš„å¯†é’¥
      UNBOUND_API_KEY=
      
      # è®¾ç½®ä¸º false ä»¥ç¦ç”¨åŒ¿åé¥æµ‹æ•°æ®å‘é€
      ANONYMIZED_TELEMETRY=false
      
      # æ—¥å¿—çº§åˆ«: è®¾ç½®ä¸º debug ä»¥å¯ç”¨è¯¦ç»†æ—¥å¿—è®°å½•ï¼Œè®¾ç½®ä¸º result ä»¥ä»…è·å–ç»“æœã€‚å¯ç”¨é€‰é¡¹: result | debug | info
      BROWSER_USE_LOGGING_LEVEL=info
      
      # Chrome æµè§ˆå™¨è®¾ç½®
      # Chrome æµè§ˆå™¨çš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„
      CHROME_PATH=
      # Chrome æµè§ˆå™¨çš„ç”¨æˆ·æ•°æ®ç›®å½•
      CHROME_USER_DATA=
      # Chrome æµè§ˆå™¨è°ƒè¯•ç«¯å£
      CHROME_DEBUGGING_PORT=9222
      # Chrome æµè§ˆå™¨è°ƒè¯•ä¸»æœº
      CHROME_DEBUGGING_HOST=localhost
      # è®¾ç½®ä¸º true ä»¥åœ¨ AI ä»»åŠ¡ä¹‹é—´ä¿æŒæµè§ˆå™¨æ‰“å¼€
      CHROME_PERSISTENT_SESSION=false
      # Chrome å¼€å‘è€…å·¥å…·åè®® (CDP) è¿æ¥å­—ç¬¦ä¸²
      CHROME_CDP=
      # æ˜¾ç¤ºè®¾ç½®
      # æ ¼å¼: å®½åº¦xé«˜åº¦xé¢œè‰²æ·±åº¦
      RESOLUTION=1920x1080x24
      # å®½åº¦ (åƒç´ )
      RESOLUTION_WIDTH=1920
      # é«˜åº¦ (åƒç´ )
      RESOLUTION_HEIGHT=1080
      
      # VNC è®¾ç½®
      # VNC å¯†ç 
      VNC_PASSWORD=youvncpassword
      ```

   3. å°†DeepSeekçš„APIå¡«å…¥å³å¯

### ç”¨æ³•

å®Œæˆä¸Šè¿°å®‰è£…æ­¥éª¤åï¼Œå¯åŠ¨åº”ç”¨ç¨‹åºï¼š

**è¿è¡ŒWebUI**

```bash
python webui.py --ip 127.0.0.1 --port 7788
```

ç­‰ä¸€ä¼šå‡ºç°æç¤ºå³å¯è®¿é—®ï¼š

```bash
(web-ui) C:\Users\admin\Desktop\MCP\web-ui>python webui.py --ip 127.0.0.1 --port 7788
INFO     [browser_use] BrowserUse logging setup complete with level info
INFO     [__main__] Total registered components: 27
* Running on local URL:  http://127.0.0.1:7788

To create a public link, set `share=True` in `launch()`.
```

**WebUI é€‰é¡¹**

- `--ip`ï¼šç»‘å®šWebUIçš„IPåœ°å€ï¼Œé»˜è®¤ä¸º`127.0.0.1`ã€‚
- `--port`ï¼šç»‘å®šWebUIçš„ç«¯å£ï¼Œé»˜è®¤ä¸º`7788`ã€‚
- `--theme`ï¼šç”¨æˆ·ç•Œé¢çš„ä¸»é¢˜ã€‚é»˜è®¤ä¸º`Ocean`ã€‚
  - **Default**ï¼šå…·æœ‰å¹³è¡¡è®¾è®¡çš„æ ‡å‡†ä¸»é¢˜ã€‚
  - **Soft**ï¼šæ¸©å’Œã€æŸ”å’Œçš„é…è‰²æ–¹æ¡ˆï¼Œå¸¦æ¥è½»æ¾çš„è§‚çœ‹ä½“éªŒã€‚
  - **Monochrome**ï¼šé‡‡ç”¨æœ€å°‘é¢œè‰²çš„ç°åº¦ä¸»é¢˜ï¼Œç®€æ´ä¸”çªå‡ºé‡ç‚¹ã€‚
  - **Glass**ï¼šå…‰æ»‘ã€åŠé€æ˜çš„è®¾è®¡ï¼Œå…·æœ‰ç°ä»£æ„Ÿã€‚
  - **Origin**ï¼šç»å…¸ã€å¤å¤é£æ ¼çš„ä¸»é¢˜ï¼Œå¸¦æ¥æ€€æ—§ä¹‹æ„Ÿã€‚
  - **Citrus**ï¼šå……æ»¡æ´»åŠ›çš„æŸ‘æ©˜é£æ ¼è°ƒè‰²æ¿ï¼Œé¢œè‰²æ˜äº®æ¸…æ–°ã€‚
  - **Ocean** ï¼ˆé»˜è®¤ï¼‰ï¼šè“è‰²çš„ã€å—æµ·æ´‹å¯å‘çš„ä¸»é¢˜ï¼Œç»™äººä¸€ç§å¹³é™çš„æ•ˆæœã€‚
- `--dark-mode`ï¼šä¸ºç”¨æˆ·ç•Œé¢å¯ç”¨æš—æ¨¡å¼ã€‚

**è®¿é—®**

**è®¿é—® WebUIï¼š**æ‰“å¼€æ‚¨çš„ Web æµè§ˆå™¨å¹¶å¯¼èˆªåˆ°`http://127.0.0.1:7788`

#### ç•Œé¢è®¾ç½®

1.**LLMè®¾ç½®**

- é€‰æ‹©æ¨¡å‹æä¾›å•†
- é€‰æ‹©å…·ä½“å‹å·
- å…¶ä»–ä¸é‡è¦

2.**ä½¿ç”¨æ‚¨è‡ªå·±çš„æµè§ˆå™¨ï¼ˆå¯é€‰ï¼‰ï¼š**

- å¯ä»¥é¿å…æ‰ä¸€äº›è®¤è¯é—®é¢˜ã€‚
- åœ¨.envä¸­è®¾ç½®
  - åœ¨å·¦ä¸‹è§’æœ¬æœºæœç´¢æ ï¼Œæœç´¢`CHROME`
  - å³å‡»æ‰“å¼€æ–‡ä»¶ä½ç½®
  - æ¥ç€å†å³é”®æ‰“å¼€æ–‡ä»¶ä½ç½®ï¼Œæ‰¾åˆ°å¯æ‰§è¡Œæ–‡ä»¶`.exe`
  - å³é”®å¤åˆ¶æ–‡ä»¶è·¯å¾„
- **è®¾ç½®ä¹‹åé‡å¯ä¸€ä¸‹uiç•Œé¢**
  - æŒ‰ctrl+cç»“æŸ
  - ç•Œé¢é‡æ–°é…ç½®ä¸€ä¸‹

è®¾ç½®`CHROME_PATH`ä¸ºæµè§ˆå™¨çš„å¯æ‰§è¡Œè·¯å¾„å’Œ`CHROME_USER_DATA`æµè§ˆå™¨çš„ç”¨æˆ·æ•°æ®ç›®å½•ã€‚`CHROME_USER_DATA`å¦‚æœæ‚¨æƒ³ä½¿ç”¨æœ¬åœ°ç”¨æˆ·æ•°æ®ï¼Œ**è¯·ç•™ç©º**ã€‚

```
 CHROME_PATH="C:\Program Files\Google\Chrome\Application\chrome.exe"
 CHROME_USER_DATA="C:\Users\YourUsername\AppData\Local\Google\Chrome\User Data"
```

- æ³¨æ„ï¼š`YourUsername`å¯¹äº Windows ç³»ç»Ÿï¼Œè¯·å°†å…¶æ›¿æ¢ä¸ºæ‚¨å®é™…çš„ Windows ç”¨æˆ·å

- å…³é—­æ‰€æœ‰ Chrome çª—å£
- åœ¨é Chrome æµè§ˆå™¨ï¼ˆä¾‹å¦‚ Firefox æˆ– Edgeï¼‰ä¸­æ‰“å¼€ WebUIã€‚è¿™å¾ˆé‡è¦ï¼Œå› ä¸ºæŒä¹…æµè§ˆå™¨ä¸Šä¸‹æ–‡å°†åœ¨è¿è¡Œä»£ç†æ—¶ä½¿ç”¨ Chrome æ•°æ®ã€‚
- åœ¨æµè§ˆå™¨è®¾ç½®ä¸­é€‰ä¸­â€œä½¿ç”¨è‡ªå·±çš„æµè§ˆå™¨â€é€‰é¡¹ã€‚



3.**ä¿æŒæµè§ˆå™¨æ‰“å¼€ï¼ˆå¯é€‰ï¼‰ï¼š**

- å¯ä»¥çœ‹åˆ°AIæ“ä½œæœ¬åœ°èµ„æºçš„æ•ˆæœ

- `CHROME_PERSISTENT_SESSION=true`åœ¨æ–‡ä»¶ä¸­è®¾ç½®`.env`

#### å¦ä¸€ç§å…ç™»å½•çš„æ–¹æ³•(æ›´ç¨³å®š)

æŠŠcookieå¯¼å…¥è¿›playwright

## é”™è¯¯æ—¥å¿—è®°å½•

- å°†æœ¬åœ°é˜²ç«å¢™å…¨éƒ¨å…³é—­
- åœ¨uiè®¾ç½®ç•Œé¢æŠŠä½¿ç”¨ Visioné€‰é¡¹å…³é—­ï¼Œå› ä¸ºdeepseekæ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚

```
Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\admin\AppData\Roaming\uv\python\cpython-3.11.11-windows-x86_64-none\Lib\asyncio\events.py", line 84, in _run    self._context.run(self._callback, *self._args)
  File "C:\Users\admin\AppData\Roaming\uv\python\cpython-3.11.11-windows-x86_64-none\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] è¿œç¨‹ä¸»æœºå¼ºè¿«å…³é—­äº†ä¸€ä¸ªç°æœ‰çš„è¿æ¥ã€‚
C:\Users\admin\Desktop\MCP\web-ui\.venv\Lib\site-packages\browser_use\agent\message_manager\views.py:59: LangChainBetaWarning: The function `load` is in beta. It is actively being worked on, so the API may change.
  value['message'] = load(value['message'])
INFO     [agent] ğŸš€ Starting task: go to google.com and type 'OpenAI' click search and give me the first url
INFO     [src.agent.custom_agent]
ğŸ“ Step 1
ERROR    [browser] Failed to initialize Playwright browser: HTTPConnectionPool(host='127.0.0.1', port=7897): Read timed out. 
(read timeout=2)
WARNING  [browser] Page load failed, continuing...
ERROR    [browser] Failed to initialize Playwright browser: HTTPConnectionPool(host='127.0.0.1', port=7897): Read timed out. 
(read timeout=2)
ERROR    [agent] âŒ Result failed 1/3 times:
 HTTPConnectionPool(host='127.0.0.1', port=7897): Read timed out. (read timeout=2)
INFO     [src.agent.custom_agent]
ğŸ“ Step 1
ERROR    [browser] Failed to initialize Playwright browser: HTTPConnectionPool(host='127.0.0.1', port=7897): Read timed out. 
(read timeout=2)
WARNING  [browser] Page load failed, continuing...
ERROR    [browser] Failed to initialize Playwright browser: HTTPConnectionPool(host='127.0.0.1', port=7897): Read timed out. 
(read timeout=2)
ERROR    [agent] âŒ Result failed 2/3 times:
 HTTPConnectionPool(host='127.0.0.1', port=7897): Read timed out. (read timeout=2)
INFO     [src.agent.custom_agent]
ğŸ“ Step 1
ERROR    [browser] Failed to initialize Playwright browser: HTTPConnectionPool(host='127.0.0.1', port=7897): Read timed out. 
(read timeout=2)
WARNING  [browser] Page load failed, continuing...
ERROR    [browser] Failed to initialize Playwright browser: HTTPConnectionPool(host='127.0.0.1', port=7897): Read timed out. 
(read timeout=2)
ERROR    [agent] âŒ Result failed 3/3 times:
 HTTPConnectionPool(host='127.0.0.1', port=7897): Read timed out. (read timeout=2)
ERROR    [src.agent.custom_agent] âŒ Stopping due to 3 consecutive failures
WARNING  [agent] No history to create GIF from
```

æ—¥å¿—ä¸­æç¤ºæ— æ³•è¿æ¥åˆ°æœ¬åœ° 127.0.0.1:7897ï¼š

æŸ¥æ‰¾å ç”¨è¯¥ç«¯å£çš„è¿›ç¨‹PIDï¼š

```
netstat -aon | findstr :7897
```

ä»è¾“å‡ºç»“æœæ¥çœ‹ï¼Œæ‰€æœ‰è¿™äº›è®°å½•å‡ä¸åŒä¸€ä¸ªè¿›ç¨‹æœ‰å…³ï¼ˆPID ä¸º 7216ï¼‰ï¼Œè¯¥è¿›ç¨‹æ­£åœ¨ç›‘å¬ 127.0.0.1:7897 ç«¯å£ã€‚å‡ºç°å¤šä¸ªçŠ¶æ€ï¼ˆå¦‚ ESTABLISHEDã€TIME_WAITã€CLOSE_WAIT ç­‰ï¼‰å±äº TCP åè®®æ­£å¸¸çš„è¿æ¥ç®¡ç†ç°è±¡ã€‚ä¾‹å¦‚ï¼š

- **LISTENING**ï¼šè¡¨ç¤ºè¯¥ç«¯å£å¤„äºç›‘å¬çŠ¶æ€ï¼Œç­‰å¾…æ–°çš„è¿æ¥ã€‚
- **ESTABLISHED**ï¼šè¡¨ç¤ºå½“å‰å·²ç»å»ºç«‹çš„è¿æ¥ã€‚
- **TIME_WAIT** ä¸ **CLOSE_WAIT**ï¼šåˆ†åˆ«è¡¨ç¤ºè¿æ¥ç»ˆæ­¢åçš„ç­‰å¾…çŠ¶æ€ï¼Œè¿™åœ¨ç½‘ç»œè¿æ¥ä¸­æ˜¯å¸¸è§ä¸”æ­£å¸¸çš„ç°è±¡ã€‚

å¦‚æœæƒ³è¿›ä¸€æ­¥ç¡®è®¤è¯¥è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
tasklist /FI "PID eq 7216"
```

ä»æŸ¥è¯¢ç»“æœæ¥çœ‹ï¼ŒPID ä¸º 7216 çš„è¿›ç¨‹æ˜ åƒåç§°ä¸º **verge-mihomo.exe**ã€‚è¿™è¡¨æ˜è¯¥è¿›ç¨‹æ­£åœ¨ä½¿ç”¨ 127.0.0.1:7897 ç«¯å£ã€‚å¦‚æœè¯¥è¿›ç¨‹ä¸æ˜¯æ‚¨æœŸæœ›ä¸­ç”¨äºè¿è¡Œ Playwright æˆ–ç›¸å…³æœåŠ¡çš„è¿›ç¨‹ï¼Œé‚£ä¹ˆå®ƒå¯èƒ½ä¼šå¹²æ‰°ç›®æ ‡æœåŠ¡çš„æ­£å¸¸å¯åŠ¨æˆ–é€šä¿¡ã€‚

127.0.0.1:7897ç«¯å£è¢«clashï¼ˆverge-mihomo.exeï¼‰å ç”¨

- ```bash
  taskkill /PID 7216 /F
  ```

- è¿™æ˜¯clashçš„ä»£ç†ç«¯å£å¯ä»¥å»clashä¸­éšæœºæ¢ä¸€ä¸ªç«¯å£å³å¯ã€‚

è¿˜æ˜¯è¶…æ—¶çš„è¯ï¼Œåœ¨å¯åŠ¨uiæ—¶æŠŠä»£ç†å–æ¶ˆæ‰ï¼Œç­‰æœåŠ¡å¯åŠ¨åå†æ‰“å¼€ã€‚

## åˆ é™¤

æŠŠè™šæ‹Ÿç¯å¢ƒæ–‡ä»¶å¤¹åˆ é™¤å³å¯ï¼Œæ‰€æœ‰ä¸‹è½½çš„åŒ…éƒ½åœ¨è¿™é‡Œäº†ã€‚UVå°±ç•™ç€å§ã€‚

